<div class="container-schedule mx-3" data-controller="schedule" data-schedule-target="container">
  <div class="container-tasks" data-schedule-target="tasks">
    <h4 class="date"><%= schedule.date.strftime("%A %e %B") %></h4>
    <div class="all-tasks">
      <% @schedule.schedule_tasks.order(:start_time).each do |task| %>
        <div class="div-task">
          <div class="div-time-name">
            <p class="task-times"><%= task.start_time.strftime("%H:%M") %> - <%= task.end_time.strftime("%H:%M") %></p>
            <p><%= task.name %></p>
          </div>
          <div class="m-1">
            <%= simple_form_for task, url: schedule_task_path(task), method: :delete, html: { data: { schedule_target: "deleteForm", action: "submit->schedule#deleteTask" } } do |f| %>
              <%= button_tag type: "submit", class: "btn-delete-task" do %>
                <i class="fas fa-trash"></i>
              <% end %>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
  <section class="task-modal hidden" data-schedule-target="modal">
    <div class="flex">
      <div class="btn btn-close" data-action="click->schedule#closeModal"></div>
      <div class="form-task p-3">
        <%= render partial: "schedules/form", locals: { schedule: schedule, schedule_task: ScheduleTask.new } %>
      </div>
    </div>
  </section>
  <button class="btn-add-task" data-action="schedule#openModal">
    <i class="fa-solid fa-circle-plus"></i>
  </button>
</div>
